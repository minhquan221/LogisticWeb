@{
    ViewBag.Title = "LamipelVN | Import File";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-container">

    <!-- BEGIN SIDEBAR -->

    @Html.Action("MenuSiteBar", "Common")

    <!-- END SIDEBAR -->
    <!-- BEGIN PAGE -->
    <div class="page-content">
        <div id="contentbody" class="container-fluid">
            <!-- BEGIN PAGE HEADER-->
            <div class="row-fluid">
                <div class="span12">
                    <h3 class="page-title">
                        New Import File
                        <small></small>
                    </h3>
                    <ul class="breadcrumb sitemap"></ul>
                </div>
            </div>
            <!-- END PAGE HEADER-->
            <!-- BEGIN PAGE CONTENT-->
            <div class="row-fluid">
                <div class="span12">
                    <div class="portlet box blue">
                        <div class="portlet-title">
                            <div class="caption"><i class="icon-reorder"></i>Detail Import File</div>
                            <div class="tools">
                                <a href="javascript:;" class="collapse"></a>
                            </div>
                        </div>
                        <div id="detail" class="portlet-body form">
                            <input hidden name="ID" />
                            <!-- BEGIN FORM-->
                            <div class="form-horizontal">
                                <div class="control-group">
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Import File No.:</label>
                                        <div class="controls">
                                            <input name="IMPFILE" autocomplete="off" type="text" class="span6 m-wrap" />
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Contract No.:</label>
                                        <div class="controls">
                                            <select id="IMPORTCONTRACTCODE" onchange="ReActivateRefMaterial()" name="IMPORTCONTRACTCODE" data-value="IMPORTCODE" data-name="IMPORTCODE" ajaxurl="/importcon/getlistforcreatenew" class="span6 customselect"></select>
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Packages:</label>
                                        <div class="controls">
                                            <input name="TOTALPALLET" value="" disabled autocomplete="off" type="text" class="span6 m-wrap" />
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">No. of Cnt:</label>
                                        <div class="controls">
                                            <input name="QUANTITYPKL" initvalue="0" autocomplete="off" type="number" class="span6 m-wrap" value="0" />
                                            <span class="approximateunit" name="cnttype"></span>
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">ETD:</label>
                                        <div class="controls">
                                            <input readonly name="ETD" autocomplete="off" type="text" class="span6 m-wrap" />
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Total PCS:</label>
                                        <div class="controls">
                                            <input name="TOTALPCS" value="" disabled autocomplete="off" type="text" class="span6 m-wrap" />
                                            <span class="approximateunit">PCS</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">BL Number:</label>
                                        <div class="controls">
                                            <input name="BLNO" autocomplete="off" type="text" class="span6 m-wrap" />
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">ETA:</label>
                                        <div class="controls">
                                            <input readonly name="ETA" autocomplete="off" type="text" class="span6 m-wrap" />
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Total NW:</label>
                                        <div class="controls">
                                            <input name="TOTALNW" value="" disabled autocomplete="off" type="text" class="span6 m-wrap" />
                                            <span class="approximateunit">KGS</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Invoice:</label>
                                        <div class="controls">
                                            <input name="INVOICE" autocomplete="off" type="text" class="span6 m-wrap" />
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">ETIH:</label>
                                        <div class="controls">
                                            <input readonly name="INHOUSEDATE" autocomplete="off" type="text" class="span6 m-wrap" />
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Total SQFT:</label>
                                        <div class="controls">
                                            <input name="TOTALSQFT" value="" disabled autocomplete="off" type="text" class="span6 m-wrap" />
                                            <span class="approximateunit">SQFT</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Invoice Value:</label>
                                        <div class="controls">
                                            <input name="INVOICEVALUE" disabled autocomplete="off" type="number" class="span6 m-wrap" value="0" />
                                            <span class="approximateunit">USD</span>
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">Paid value:</label>
                                        <div class="controls">
                                            <input name="PAIDVALUE" autocomplete="off" type="number" class="span6 m-wrap" />
                                            <span class="approximateunit">USD</span>
                                        </div>
                                    </div>
                                    <div class="controls-left-30 nosize">
                                        <label class="control-label">LWG:</label>
                                        <div class="controls">
                                            <input name="ISLWG" checked class="span12" style="min-height: 22px;" type="checkbox" />
                                            @*<input name="LWG" value="" type="text" class="span6 m-wrap" />*@
                                        </div>
                                    </div>
                                </div>
                                <input onchange="UploadFileExcelAll(this)" name="fileuploadall" type="file" style="display: none;" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" />
                                <div class="control-group">
                                    <div class="controls-left-30 nosize">
                                        <button onclick="UploadAllClick()" class="btn">
                                            Upload Container Info <i class="icon-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="control-group" style="display: none;">
                                    <div class="controls-left-30 nosize">
                                        <button onclick="AddNewPKL()" class="btn">
                                            Add Cnt <i class="icon-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <!-- END FORM-->
                        </div>
                    </div>
                </div>
            </div>


            @*<div class="row-fluid">
                    <div class="span12">
                        <div class="portlet box blue">
                            <div class="portlet-title">
                                <div class="caption"><i class="icon-reorder"></i>Detail PKL</div>
                                <div class="action-on-title">
                                    <div class="btn-group">
                                        <button onclick="AddNewPallet()" class="btn green">
                                            Add PKL <i class="icon-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="tools">
                                    <a href="javascript:;" class="collapse"></a>
                                </div>
                            </div>
                            <div id="itemlist" class="portlet-body form">

                            </div>
                        </div>
                    </div>
                </div>*@

            <div class="row-fluid" id="actioncontent">
                <div class="span12">
                    <div class="portlet box blue no-border">
                        <div class="portlet-body form">
                            <div class="form-actions no-border">
                                <button type="button" onclick="SaveImportFileContract()" class="btn blue" style="width: 200px;">Save<br />Lưu</button>
                                <button type="button" style="width: 92px;" class="btn" onclick="location.href = '/contract'">Cancel<br />Hủy</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END PAGE CONTENT-->
        </div>
        <!-- END PAGE -->
    </div>
</div>

@section styles{
    <!-- BEGIN PAGE LEVEL STYLES -->
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-fileupload/bootstrap-fileupload.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/gritter/css/jquery.gritter.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/chosen-bootstrap/chosen/chosen.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/select2/select2_metro.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/clockface/css/clockface.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-datepicker/css/datepicker.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-timepicker/compiled/timepicker.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-colorpicker/css/colorpicker.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-toggle-buttons/static/stylesheets/bootstrap-toggle-buttons.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/bootstrap-datetimepicker/css/datetimepicker.css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/jquery-multi-select/css/multi-select-metro.css" />
    <link href="/Content/assets/plugins/bootstrap-modal/css/bootstrap-modal.css" rel="stylesheet" type="text/css" />
    <link href="/Content/assets/plugins/bootstrap-switch/static/stylesheets/bootstrap-switch-metro.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/Content/assets/plugins/jquery-tags-input/jquery.tagsinput.css" />
    <link href="~/Content/jqueryUi.css" rel="stylesheet" />
    @*<link href="~/Content/stylesheet.css" rel="stylesheet" />*@
    <!-- END PAGE LEVEL STYLES -->
    <style>
        .approximateunit {
            margin-left: -35px;
        }
    </style>
}

@section scripts{
    <!-- BEGIN PAGE LEVEL SCRIPTS -->
    <script src="~/Content/assets/plugins/uniform/jquery.uniform.js"></script>
    <script src="~/Scripts/Common/customsuggest.js"></script>
    <script src="~/Scripts/Common/customvalidate.js"></script>
    <script src="~/Scripts/Common/customselect.js"></script>
    <!-- END PAGE LEVEL SCRIPTS -->
    <script type="text/javascript">
        //var countListItem = $('#itemlist').find('div[name=item]').length;
        var countListPKL = 0;
        var countListPallet = 0;
    </script>
    <script src="~/Scripts/business/impfile.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('input[name=ETA]').datepicker({
                "autoclose": true,
                format: 'yyyy-MM-dd',
            });
            $('input[name=ETD]').datepicker({
                "autoclose": true,
                format: 'yyyy-MM-dd',
            });
            $('input[name=INHOUSEDATE]').datepicker({
                "autoclose": true,
                format: 'yyyy-MM-dd',
            });
            $('input[name=QUANTITYPKL]').on('blur', async function () {
                await AutoInitContainer($(this));
            });
            $('input[name=IMPFILE]').on('blue, change', function () {
                UpdateDateIMP();
            });
            InitImportFileName($('input[name=IMPFILE]'));
            //LoadListCustomer();
            //LoadListConsignee();
            //LoadContractCodeName();
            //LoadListDeliveryMethod();
            //LoadListContainerType();
            //$('input[name=DELIVERYPLAN]').datepicker({
            //    "autoclose": true,
            //    format: 'yyyy-MM-dd',
            //});
            //$('input[name=DomesticCheck]').uniform();
        })
    </script>
}
